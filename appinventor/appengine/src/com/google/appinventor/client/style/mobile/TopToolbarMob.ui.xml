<!-- Copyright 2023-2024 MIT, All rights reserved -->
<!-- Released under the Apache License, Version 2.0 -->
<!-- http://www.apache.org/licenses/LICENSE-2.0 -->
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
             xmlns:g="urn:import:com.google.gwt.user.client.ui"
             xmlns:ai="urn:import:com.google.appinventor.client.widgets"
             xmlns:actions="urn:import:com.google.appinventor.client.actions"
             ui:generatedFormat="com.google.gwt.i18n.server.PropertyCatalogFactory"
             ui:generatedKeys="com.google.gwt.i18n.server.keygen.MethodNameKeyGenerator"
             ui:generateLocales="default">
  <ui:with field="messages" type="com.google.appinventor.client.OdeMessages"/>
  <ui:with field="hasWriteAccess" type="java.lang.Boolean"/>

  <ai:Toolbar styleName="ode-TopToolbar">
    <!-- Projects Menu -->
    <ai:DropDownButton name="Project" caption="{messages.projectsTabName}" icon="inventory_2"
                       styleName="ode-TopPanelButton" ui:field="fileDropDown" align="left" visible="false">
    </ai:DropDownButton>

    <!-- Connect Menu -->
    <ai:DropDownButton name="ConnectTo" caption="{messages.connectTabName}" styleName="ode-TopPanelButton"
                       ui:field="connectDropDown" icon="settings_remote" align="left" visible="false">
    </ai:DropDownButton>

    <!-- Build Menu -->
    <ai:DropDownButton name="Build" caption="{messages.buildTabName}" styleName="ode-TopPanelButton"
                       ui:field="buildDropDown" icon="system_security_update" align="left" visible="false">
      <ai:DropDownItem name="BuildApk" caption="{messages.showExportAndroidApk}">
      <actions:BarcodeAction second="false" isAab="false"/>
    </ai:DropDownItem>
      <ai:DropDownItem name="BuildAab" caption="{messages.showExportAndroidAab}">
        <actions:BarcodeAction second="false" isAab="true"/>
      </ai:DropDownItem>
      <ai:DropDownItem name="BuildApk2" caption="{messages.showExportAndroidApk2}">
        <actions:BarcodeAction second="true" isAab="false"/>
      </ai:DropDownItem>
      <ai:DropDownItem name="BuildAab2" caption="{messages.showExportAndroidAab2}">
        <actions:BarcodeAction second="true" isAab="true"/>
      </ai:DropDownItem>
      <ai:DropDownItem name="Yail" caption="{messages.generateYailMenuItem}">
        <actions:GenerateYailAction/>
      </ai:DropDownItem>
    </ai:DropDownButton>

    <!-- Settings Menu -->
    <ai:DropDownButton name="Settings" styleName="ode-TopPanelButton"
        ui:field="settingsDropDown" align="left" icon="menu">
    </ai:DropDownButton>

      <g:VerticalPanel ui:field="menuContent" visible="false" spacing="10">
          <!-- Projects Section -->
          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader">Projects</g:header>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                  <g:Button ui:field="myProjectsButton"
                            text="{messages.projectMenuItem}" visible="false"/>
                  <g:Button ui:field="newButton"
                            text="{messages.newProjectMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="importProjectButton"
                            text="{messages.importProjectMenuItem}" visible="false"/>
                  <g:Button ui:field="importTemplateButton"
                            text="{messages.importTemplateButton}" visible="false"/>
                  <g:Button ui:field="deleteButton"
                            text="{messages.trashProjectMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="saveButton"
                            text="{messages.saveMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="saveAsButton"
                            text="{messages.saveAsMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="checkpointButton"
                            text="{messages.checkpointMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="ExportProjectButton"
                            text="{messages.exportButton}" visible="false"/>
                  <g:Button ui:field="ExportAllProjectsButton"
                            text="{messages.exportAllProjectsMenuItem}" visible="false"/>
              </g:VerticalPanel>
          </g:DisclosurePanel>

          <!-- Connect Section -->
          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader">Connect</g:header>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                  <g:Button ui:field="wirelessButton" text="{messages.AICompanionMenuItem}"/>
                  <g:Button ui:field="emulatorButton" text="{messages.emulatorMenuItem}"/>
                  <g:Button ui:field="usbButton" text="{messages.usbMenuItem}"/>
                  <g:Button ui:field="chromebookButton"
                            text="{messages.chromebookMenuItem}" addStyleDependentNames="needsChromebook"/>
                  <g:Button ui:field="refreshCompanionButton"
                            text="{messages.refreshCompanionMenuItem}"/>
                  <g:Button ui:field="resetButton" text="{messages.resetConnectionsMenuItem}"/>
                  <g:Button ui:field="hardResetButton" text="{messages.hardResetConnectionsMenuItem}"/>
                  <g:Button ui:field="CompanionInformationButton" text="{messages.companionInformation}"/>
                  <g:Button ui:field="CompanionUpdateButton" text="{messages.companionUpdate}"/>
              </g:VerticalPanel>
          </g:DisclosurePanel>

          <!-- Build Section -->
          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader">Build</g:header>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                  <g:Button ui:field="buildApkButton" text="{messages.showExportAndroidApk}"/>
                  <g:Button ui:field="buildAabButton" text="{messages.showExportAndroidAab}"/>
                  <g:Button ui:field="buildApk2Button" text="{messages.showExportAndroidApk2}"/>
                  <g:Button ui:field="buildAab2Button" text="{messages.showExportAndroidAab2}"/>
                  <g:Button ui:field="generateYailButton" text="{messages.generateYailMenuItem}"/>
              </g:VerticalPanel>
          </g:DisclosurePanel>

          <!-- Settings Section -->
          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader">Settings</g:header>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                  <g:Button ui:field="uiSettingsButton" text="{messages.uiSettings}"/>
                  <g:Button ui:field="autoloadLastProjectButton"
                            text="{messages.disableAutoload}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="dyslexicFontButton"
                            text="{messages.disableOpenDyslexic}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="uploadKeyStoreButton"
                            text="{messages.uploadKeystoreMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="downloadKeyStoreButton"
                            text="{messages.downloadKeystoreMenuItem}" visible="{hasWriteAccess}"/>
                  <g:Button ui:field="deleteKeyStoreButton"
                            text="{messages.deleteKeystoreMenuItem}" visible="{hasWriteAccess}"/>
              </g:VerticalPanel>
          </g:DisclosurePanel>

          <!-- Admin Section -->
          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader">Admin</g:header>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                  <g:Button ui:field="downloadUserSourceButton"
                            text="{messages.downloadUserSourceMenuItem}"/>
                  <g:Button ui:field="userAdminButton" text="{messages.userAdminMenuItem}"/>
              </g:VerticalPanel>
          </g:DisclosurePanel>

          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader" icon="help">Help</g:header>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                  <g:Button ui:field="aboutButton" text="{messages.aboutMenuItem}"/>
                  <g:Button ui:field="guideButton" text="{messages.guideTabName}"/>
                  <g:Button ui:field="feedbackButton" text="{messages.feedbackTabName}"/>
                  <g:Button ui:field="libraryButton" text="{messages.libraryMenuItem}"/>
                  <g:Button ui:field="getStartedButton" text="{messages.getStartedMenuItem}"/>
                  <g:Button ui:field="extensionsButton" text="{messages.extensionsMenuItem}"/>
                  <g:Button ui:field="tutorialsButton" text="{messages.tutorialsMenuItem}"/>
                  <g:Button ui:field="troubleshootingButton" text="{messages.troubleshootingMenuItem}"/>
                  <g:Button ui:field="forumsButton" text="{messages.forumsMenuItem}"/>
                  <g:Button ui:field="showSplashButton" text="{messages.showSplashMenuItem}"/>
                  <g:Button ui:field="showShortcutsButton" text="{messages.showShortcuts}"/>
                </g:VerticalPanel>
          </g:DisclosurePanel>

          <g:DisclosurePanel>
              <g:header styleName="mobile-SectionHeader" >Account</g:header>
            <g:VerticalPanel>
              <g:VerticalPanel styleName="mobile-SectionPanel">
                <g:Button ui:field="signOutButton" text="{messages.signOutLink}"/>
                <g:Button ui:field="deleteAccountItem" text="{messages.deleteAccountLink}"/>
              </g:VerticalPanel>
            </g:VerticalPanel>
          </g:DisclosurePanel>

          <g:Button ui:field="languageButton" text="Language" styleName="mobile-MenuItem"/>

      </g:VerticalPanel>


    <!-- Admin Menu -->
    <ai:DropDownButton name="Admin" styleName="ode-TopPanelButton"
                       ui:field="adminDropDown" icon="shield_person" align="left" visible="false">

      <ai:DropDownItem name="DownloadUserSource" caption="{messages.downloadUserSourceMenuItem}">
        <actions:DownloadUserSourceAction/>
      </ai:DropDownItem>
      <ai:DropDownItem name="UserAdmin" caption="{messages.userAdminMenuItem}">
        <actions:SwitchToUserAdminAction/>
      </ai:DropDownItem>
    </ai:DropDownButton>
  </ai:Toolbar>
</ui:UiBinder>
